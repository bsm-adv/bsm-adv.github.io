import{$ as a,a as w}from"./dom.BjsoGNXY.js";const l=a("header.sticky"),u=a("#navToggle",l),A=a("nav",l),m=w("a[href]",A),b=w("section[id]"),y=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches,s=()=>l.getBoundingClientRect().height/2,p=e=>{window.scrollTo({top:e,behavior:y()?"auto":"smooth"})},E=()=>{u&&(u.checked=!1)},d=new Map,v=new Set;m.forEach(e=>{const t=new URL(e.href),n=t.pathname+t.hash;if(d.set(n,e),t.pathname==="/"&&t.hash.startsWith("#/")){const o=t.hash.split("/")[1];o&&v.add(o)}});const M=b.filter(e=>v.has(e.id)),g=()=>{m.forEach(e=>e.removeAttribute("aria-current"))},k=e=>{g(),e.setAttribute("aria-current","true")},h=e=>{const t=d.get(e);t&&k(t)},f=()=>{const e=d.get("/");e&&k(e)},i=e=>{new URL(location.href).hash!==e&&history.replaceState(null,"",e||location.pathname)};let r=!1,c=!1;const L=(e,t=500)=>{r=!0,e(),setTimeout(()=>r=!1,t)},T=e=>L(()=>{const t=document.getElementById(e);t&&(p(t.offsetTop-s()),h("/#/"+e+"/"),i("#/"+e+"/"))}),S=()=>{c=!0,L(()=>{p(0),f(),i("")});const e=()=>{window.scrollY<=s()?c=!1:requestAnimationFrame(e)};e()},H=()=>{if(r||c&&window.scrollY>s())return;const e=window.scrollY+s()+window.innerHeight/2,t=M.find(({offsetTop:n,offsetHeight:o})=>e>=n&&e<n+o);if(t){h("/#/"+t.id+"/"),i("#/"+t.id+"/");return}window.scrollY<window.innerHeight/2?f():g(),i("")};window.addEventListener("scroll",H,{passive:!0});document.addEventListener("click",e=>{const t=e.target?.closest("a[href]");if(!t)return;const n=new URL(t.href,location.origin);if(n.pathname==="/"){if(e.preventDefault(),!n.hash)S();else{const o=n.hash.split("/")[1];T(o)}E()}});window.addEventListener("load",()=>{const{pathname:e,hash:t,search:n}=location;if(e==="/"&&t.startsWith("#/")){const o=t.split("/")[1];setTimeout(()=>T(o),50)}else e==="/"?f():h(e+n)});
